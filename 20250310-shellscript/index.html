<!doctype html><html lang=en><head><meta charset=UTF-8><title></title>
<meta name=viewport content="width=device-width,initial-scale=1"><script src=https://code.jquery.com/jquery-3.6.0.min.js></script></head><body><div id=particles-js></div><main><div class=content><h1>ğŸ“</h1><h2 id=shell-scriptãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã¨è¡Œæ•°ã‚’csvãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã™ã‚‹>[shell script]ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã¨è¡Œæ•°ã‚’CSVãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã™ã‚‹</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹</span>
</span></span><span style=display:flex><span>filePath<span style=color:#f92672>=</span><span style=color:#e6db74>$&#39;H:/GitLab/fukushisource/fukushisource/SourceFiles/QAA/WebUI&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#è¡Œæ•°ã‚’å®šç¾©ã™ã‚‹ï¼ˆæ•°å€¤ï¼‰</span>
</span></span><span style=display:flex><span>declare -i filelines<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#å‡ºåŠ›çµæœã‚’æ ¼ç´ã™ã‚‹å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹</span>
</span></span><span style=display:flex><span>declare output<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#æ”¹è¡Œã‚’å®šç¾©</span>
</span></span><span style=display:flex><span>LF<span style=color:#f92672>=</span><span style=color:#e6db74>$&#39;\n&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ãƒ•ã‚©ãƒ«ãƒ€ã‚’å®šç¾©</span>
</span></span><span style=display:flex><span>folder<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å®šç¾©</span>
</span></span><span style=display:flex><span>fileName<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#æ‹¡å¼µå­ã‚’å®šç¾©</span>
</span></span><span style=display:flex><span>expand<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«å‡¦ç†ã™ã‚‹</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> read -r strpath; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>#ãƒ‘ã‚¹ãŒãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> test -f $strpath;<span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>     <span style=color:#75715e>#ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å–å¾—ã™ã‚‹</span>
</span></span><span style=display:flex><span>     fileName<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>basename $strpath<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>     <span style=color:#75715e>#æ‹¡å¼µå­ã‚’å–å¾—ã™ã‚‹</span>
</span></span><span style=display:flex><span>     expand<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>strpath##*.<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>     <span style=color:#75715e>#CSãƒ»ASPXãƒ»XMLãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆã®ã¿å¾Œç¶šã®å‡¦ç†ã‚’è¡Œã†</span>
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$expand<span style=color:#e6db74>&#34;</span> in 
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;cs&#34;</span> | <span style=color:#e6db74>&#34;aspx&#34;</span> | <span style=color:#e6db74>&#34;xml&#34;</span> |<span style=color:#e6db74>&#34;CS&#34;</span> | <span style=color:#e6db74>&#34;ASPX&#34;</span> | <span style=color:#e6db74>&#34;XML&#34;</span> <span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>#å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®è¡Œæ•°ã‚’æ•°ãˆã‚‹</span>
</span></span><span style=display:flex><span>          filelines<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>sed -n <span style=color:#e6db74>&#39;$=&#39;</span> $strpath<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>#count=$(wc -l $strpath)</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>#1å›ç›®ã®å ´åˆ</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -z <span style=color:#e6db74>&#34;</span>$output<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>;<span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>             output<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$strpath<span style=color:#e6db74>,</span>$folder<span style=color:#e6db74>,</span>$fileName<span style=color:#e6db74>,</span>$filelines<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>#2å›ç›®ä»¥é™ã®å ´åˆ</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>else</span> 
</span></span><span style=display:flex><span>             output<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$output$LF$strpath<span style=color:#e6db74>,</span>$folder<span style=color:#e6db74>,</span>$fileName<span style=color:#e6db74>,</span>$filelines<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>esac</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>     <span style=color:#75715e>#ãƒ‘ã‚¹ã®æœ€å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’æŠ½å‡ºã™ã‚‹</span>
</span></span><span style=display:flex><span>     <span style=color:#75715e>#folder=`echo ${f} | awk -F &#34;/&#34; &#39;{ print $NF }&#39;`</span>
</span></span><span style=display:flex><span>     folder<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>basename $strpath<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ãªã„</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#done &lt; &lt;(find ./hoge -mindepth 1 -maxdepth 1)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã‚‹</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> &lt; &lt;<span style=color:#f92672>(</span>find $filePath -mindepth 1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#å‡ºåŠ›çµæœã‚’csvãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span>$output<span style=color:#e6db74>&#34;</span> &gt; output.csv
</span></span></code></pre></div></div></main></div></div><div id=navigation><a class="nav nav-next" href=/blog/ title=åšå®¢æ–‡ç«  style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1741616018></script><script src=/js/perfect-scrollbar.min.js?1741616018></script><script src=/js/perfect-scrollbar.jquery.min.js?1741616018></script><script src=/js/jquery.sticky.js?1741616018></script><script src=/js/featherlight.min.js?1741616018></script><script src=/js/highlight.pack.js?1741616018></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1741616018></script><script src=/js/learn.js?1741616018></script><script src=/js/hugo-learn.js?1741616018></script><script src=/mermaid/mermaid.js?1741616018></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html><script src=https://cdn.jsdelivr.net/npm/particles.js></script><script>document.addEventListener("DOMContentLoaded",function(){particlesJS("particles-js",{particles:{number:{value:100,density:{enable:!0,value_area:800}},shape:{type:"circle"},size:{value:3,random:!0},move:{speed:2},opacity:{value:.5,random:!0},line_linked:{enable:!0,distance:150,color:"#ffffff"}}}),console.log("âœ… Particles.js å·²åˆå§‹åŒ–ï¼")})</script><style>#particles-js{position:fixed;width:100%;height:100vh!important;top:0;left:0;background:linear-gradient(to right,#000428,#004e92);z-index:-1}main{position:relative;z-index:10;text-align:center;color:#fff;font-family:poppins,sans-serif}</style></body></html>